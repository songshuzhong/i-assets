/*! i-components v0.1.0 | (c) 2021, author sshuzhong@outlook.com */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define("Todo",["vue"],t):"object"==typeof exports?exports.Todo=t(require("vue")):e.Todo=t(e.vue)}(window,(function(e){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=87)}({11:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const o=e.__vccOpts||e;for(const[e,n]of t)o[e]=n;return o}},14:function(e,t,o){"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),l=[];function c(e){for(var t=-1,o=0;o<l.length;o++)if(l[o].identifier===e){t=o;break}return t}function a(e,t){for(var o={},n=[],r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],d=o[a]||0,u="".concat(a," ").concat(d);o[a]=d+1;var s=c(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==s?(l[s].references++,l[s].updater(p)):l.push({identifier:u,updater:v(p,t),references:1}),n.push(u)}return n}function d(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=o.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=i(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var u,s=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,o,n){var r=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=s(t,r);else{var i=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function f(e,t,o){var n=o.css,r=o.media,i=o.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var b=null,_=0;function v(e,t){var o,n,r;if(t.singleton){var i=_++;o=b||(b=d(t)),n=p.bind(null,o,i,!1),r=p.bind(null,o,i,!0)}else o=d(t),n=f.bind(null,o,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var o=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<o.length;n++){var r=c(o[n]);l[r].references--}for(var i=a(e,t),d=0;d<o.length;d++){var u=c(o[d]);0===l[u].references&&(l[u].updater(),l.splice(u,1))}o=i}}}},15:function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=e(t);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var a=[].concat(e[c]);n&&r[a[0]]||(o&&(a[2]?a[2]="".concat(o," and ").concat(a[2]):a[2]=o),t.push(a))}},t}},16:function(e,t){function o(){return e.exports=o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},18:function(e,t){function o(t){return e.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},2:function(t,o){t.exports=e},20:function(e,t,o){var n=o(25);e.exports=function(e,t,o){return(t=n(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},e.exports.__esModule=!0,e.exports.default=e.exports},25:function(e,t,o){var n=o(18).default,r=o(26);e.exports=function(e){var t=r(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},26:function(e,t,o){var n=o(18).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},47:function(e,t,o){"use strict";var n=o(15),r=o.n(n)()((function(e){return e[1]}));r.push([e.i,".i-todo-container{position:relative;width:100%;border:1px solid var(--el-card-border-color);font-weight:300}.i-todo__header{position:relative;border-bottom:1px solid var(--el-card-border-color)}.i-todo__add{width:100%;height:100%;padding:10px 16px 10px 60px;border:none;font-size:18px}.i-todo__body{position:relative;height:255px;overflow-y:scroll}.i-todo__checkbox{position:absolute;top:0;left:10px;width:41px;height:100%;font-size:12px;cursor:pointer}.i-todo__checkbox:before{position:absolute;height:100%;content:'❯';font-size:22px;color:var(--el-card-border-color);transform:rotate(90deg)}.i-todo__body__list{list-style:none;padding:0;margin:0;text-align:left}.i-todo__body__list li{position:relative;font-size:24px;border-bottom:1px solid var(--el-border-color-lighter)}.i-todo__body__list li:last-child{border-bottom:none}.i-todo__body__list li.completed label{color:#d9d9d9;text-decoration:line-through}.i-todo__body__list li:hover .i-todo__view__delete{display:block}.i-todo__body__list li .i-todo__view__toggle{position:absolute;top:0;bottom:0;width:40px;height:auto;margin:auto 0;opacity:0;cursor:pointer}.i-todo__body__list li .i-todo__view__toggle+label{background-image:url(\"data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:center left;background-size:36px}.i-todo__body__list li .i-todo__view__toggle:checked+label{background-size:36px;background-image:url(\"data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E\")}.i-todo__body__list li label{word-break:break-all;padding:15px 15px 15px 50px;display:block;line-height:1.0;font-size:14px;transition:color 0.4s}.i-todo__body__list li .i-todo__view__delete{position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0;display:none;border:0;border-radius:100%;font-size:30px;color:rgba(245,108,108,0.5);transition:color 0.2s ease-out;cursor:pointer}.i-todo__body__list li .i-todo__view__delete:hover{color:#F56C6C}.i-todo__body__list li .i-todo__view__delete:after{content:'×'}.i-todo__footer{color:#777;position:relative;padding:10px 15px;height:40px;text-align:center;border-top:1px solid var(--el-card-border-color)}.i-todo__footer:before{content:'';position:absolute;right:0;bottom:0;left:0;height:40px;overflow:hidden;box-shadow:0 1px 1px rgba(0,0,0,0.2),0 8px 0 -3px #f6f6f6,0 9px 1px -3px rgba(0,0,0,0.2),0 16px 0 -6px #f6f6f6,0 17px 2px -6px rgba(0,0,0,0.2)}.i-todo__count{position:absolute;left:0;padding-left:15px}.i-todo__count strong{font-weight:600}.i-todo__filter{position:relative;margin:0;padding:0;list-style:none}.i-todo__filter li{padding:3px 7px;display:inline;cursor:pointer;font-size:12px;text-decoration:none;border:1px solid transparent;border-radius:3px}.i-todo__filter li:hover{border-color:rgba(64,158,255,0.1)}.i-todo__filter li.selected{border-color:rgba(64,158,255,0.2)}.i-todo__filter li:last-child{position:absolute;right:0;color:var(--el-color-primary)}\n",""]),t.a=r},66:function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure "+e)},e.exports.__esModule=!0,e.exports.default=e.exports},87:function(e,t,o){"use strict";o.r(t),o.d(t,"Todo",(function(){return P}));var n=o(2),r={class:"i-todo-container"},i={class:"i-todo__header"},l={key:0,class:"i-todo__body"},c={class:"i-todo__body__list"},a={class:"i-todo__view"},d=["checked","onChange"],u=["textContent"],s=["onClick"],p={class:"i-todo__footer"},f={class:"i-todo__count"},b=Object(n.createTextVNode)(" 共计"),_=Object(n.createTextVNode)("个待办。 "),v=Object(n.createTextVNode)(" 剩余"),g=Object(n.createTextVNode)("个待办。 "),y=Object(n.createTextVNode)(" 已完成"),m=Object(n.createTextVNode)("个。 "),x={class:"i-todo__filter"},h=["onClick"],O=[Object(n.createTextVNode)("更新")];var j=o(20),w=o.n(j),k=o(66),E=o.n(k),C=o(16),T=o.n(C);function D(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var S=Object(n.defineComponent)({name:"Todo",props:{name:{type:String,required:!1,default:""},initData:{type:Object,required:!1,default:{}},inherit:{type:Object,required:!1,default:function(){return{type:"all",value:[]}}},errorInfo:{type:[Object,String],required:!1},initApi:{type:[Object,String],required:!1},interval:{type:Number,required:!1,default:0},sendOn:{type:String,required:!1,default:""},stopAutoRefreshWhen:{type:String,required:!1,default:""},silentLoading:{type:Boolean,required:!1,default:!1},silentMessage:{type:Boolean,required:!1,default:!0},syncLocation:{type:Boolean,required:!1,default:!1},actionApi:{type:[Object,String],required:!1},action:{type:Function,required:!1}},setup:function(e,t){var o=Object(n.getCurrentInstance)().proxy,r=Object(n.reactive)({data:{}}),i=Object(n.ref)([]),l=Object(n.ref)(!1),c=Object(n.ref)("all"),a=function(){e.initApi&&d()},d=function(){o&&o.axiosCancelToken&&"function"==typeof o.axiosCancelToken&&o.axiosCancelToken("CANCELED_DUE_TO_NEW_REQUEST"),l.value=!0,o.$api.useApi(o.$iRenderConfig,{}).get(e.initApi,r.data).then((function(e){var t=e.data;i.value=t})).catch((function(e){"CANCELED_DUE_TO_NEW_REQUEST"===e.message&&console.info(e)})).finally((function(){l.value=!1}))};return Object(n.watch)((function(){return e.initData}),(function(e){r.data=e}),{deep:!0,immediate:!0}),Object(n.onMounted)((function(){a()})),{onComponentUpdate:a,checkAll:function(){i.value.forEach((function(e){e.done=!0}))},addTodo:function(e){var t=e.target.value;t.trim()&&i.value.push({title:t,done:!1}),e.target.value=""},toggleTodo:function(e,t){return i.value[t].done=!e.done},deleteTodo:function(e){return i.value.splice(i.value.indexOf(e),1)},doneEdit:function(e){return i.value[e].done=!0},filteredTodos:function(){return"active"===c.value?i.value.filter((function(e){return!e.done})):"completed"===c.value?i.value.filter((function(e){return e.done})):i.value},onSave:function(){if(!l.value){var o={},n=T()({},(E()(t.attrs),t.attrs));l.value=!0,o.method="post",o.params=r.data,o.url=e.initApi,e.action(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?D(Object(o),!0).forEach((function(t){w()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):D(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({actionType:"ajax",actionApi:o},n),i.value,(function(){return l.value=!1}))}},loading:l,visible:c,todos:i,state:r}}}),N=o(14),B=o.n(N),V=o(47),M={insert:"head",singleton:!1},A=(B()(V.a,M),V.a.locals,o(11));var P=o.n(A)()(S,[["render",function(e,t,o,j,w,k){var E=Object(n.resolveComponent)("el-empty"),C=Object(n.resolveDirective)("loading");return Object(n.openBlock)(),Object(n.createElementBlock)("section",r,[Object(n.createElementVNode)("header",i,[Object(n.createElementVNode)("input",{class:"i-todo__add",placeholder:"点击添加待办项",onKeyup:t[0]||(t[0]=Object(n.withKeys)((function(){return e.addTodo&&e.addTodo.apply(e,arguments)}),["enter"]))},null,32),Object(n.createElementVNode)("span",{class:"i-todo__checkbox",onClick:t[1]||(t[1]=function(t){return e.checkAll()})})]),e.todos.length?(Object(n.openBlock)(),Object(n.createElementBlock)("section",l,[Object(n.createElementVNode)("ul",c,[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(e.filteredTodos(),(function(t,o){return Object(n.openBlock)(),Object(n.createElementBlock)("li",{key:o,class:Object(n.normalizeClass)({completed:t.done})},[Object(n.createElementVNode)("div",a,[Object(n.createElementVNode)("input",{checked:t.done,type:"checkbox",class:"i-todo__view__toggle",onChange:function(n){return e.toggleTodo(t,o)}},null,40,d),Object(n.createElementVNode)("label",{textContent:Object(n.toDisplayString)(t.title)},null,8,u),Object(n.createElementVNode)("button",{class:"i-todo__view__delete",onClick:function(o){return e.deleteTodo(t)}},null,8,s)])],2)})),128))])])):(Object(n.openBlock)(),Object(n.createBlock)(E,{key:1,description:"暂无待办"})),Object(n.withDirectives)(Object(n.createElementVNode)("footer",p,[Object(n.createElementVNode)("span",f,["all"===e.visible?(Object(n.openBlock)(),Object(n.createElementBlock)(n.Fragment,{key:0},[b,Object(n.createElementVNode)("strong",null,Object(n.toDisplayString)(e.filteredTodos().length),1),_],64)):Object(n.createCommentVNode)("",!0),"active"===e.visible?(Object(n.openBlock)(),Object(n.createElementBlock)(n.Fragment,{key:1},[v,Object(n.createElementVNode)("strong",null,Object(n.toDisplayString)(e.filteredTodos().length),1),g],64)):Object(n.createCommentVNode)("",!0),"completed"===e.visible?(Object(n.openBlock)(),Object(n.createElementBlock)(n.Fragment,{key:2},[y,Object(n.createElementVNode)("strong",null,Object(n.toDisplayString)(e.filteredTodos().length),1),m],64)):Object(n.createCommentVNode)("",!0)]),Object(n.createElementVNode)("ul",x,[(Object(n.openBlock)(),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)([{key:"all",text:"全部"},{key:"active",text:"待办"},{key:"completed",text:"已完成"}],(function(t,o){return Object(n.createElementVNode)("li",{key:o,class:Object(n.normalizeClass)({selected:e.visible===t.key}),onClick:Object(n.withModifiers)((function(o){return e.visible=t.key}),["prevent"])},Object(n.toDisplayString)(t.text),11,h)})),64)),Object(n.withDirectives)((Object(n.openBlock)(),Object(n.createElementBlock)("li",{onClick:t[2]||(t[2]=function(){return e.onSave&&e.onSave.apply(e,arguments)})},O)),[[C,e.loading]])])],512),[[n.vShow,e.todos.length]])])}]]),q=function(e){e.component(P.name,P)};"undefined"!=typeof window&&window.Vue&&q(window.Vue);t.default={install:q,Todo:P}}})}));